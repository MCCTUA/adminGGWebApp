<script>
  let table

  /**
   * ******************************************
   * Check content had loaded
   * ******************************************
   */

  function waitForElementToExist(selector) {
    return new Promise((resolve) => {
      if (document.querySelector(selector)) {
        return resolve(document.querySelector(selector))
      }

      const observer = new MutationObserver(() => {
        if (document.querySelector(selector)) {
          resolve(document.querySelector(selector))
          observer.disconnect()
        }
      })
      observer.observe(document.body, {
        subtree: true,
        childList: true,
      })
    })
  }

  document
    .getElementById('navigation')
    .addEventListener('click', navClickEventHandler)

  document
    .getElementById('add-new-company')
    .addEventListener('click', loadCompanyListPage)

  document
    .getElementById('add-new-contact')
    .addEventListener('click', loadContactListPage)

  //=========================================================

  function loadCompanyListPage() {
    loadPartialsContent({
      func: 'loadCompanyListPage',
      callback: loadCompanyTable,
    })
  }

  function loadContactListPage() {
    loadPartialsContent({
      func: 'loadContactListPage',
      callback: loadContactTable,
    })
  }

  /**
   * ******************************************
   * After DOM Content had loaded
   * ******************************************
   */
  // Load Search Inquiry หลัง Dom Load เสร็จแล้ว
  document.addEventListener('DOMContentLoaded', loadContactListPage)
</script>
